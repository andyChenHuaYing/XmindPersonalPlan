

|                  | kafka                                        | rocketmq                                                     |      |
| ---------------- | -------------------------------------------- | ------------------------------------------------------------ | ---- |
| 数据可靠性       | 使用异步刷盘方式，异步Replication            | 支持异步刷盘，同步刷盘，同步Replication，异步Replication     |      |
| 严格的消息顺序   | 支持，但是一台Broker宕机后，就会产生消息乱序 | 支持，在顺序消息场景下，一台Broker宕机后，发送消息会失败，但是不会乱序 |      |
| 消费失败重试机制 | 不支持                                       | 消费失败支持定时重试，每次重试间隔时间顺延                   |      |
| 定时消息         | 不支持                                       | 支持                                                         |      |
| 分布式事务消息   | 不支持                                       |                                                              |      |
| 消息查询机制     | 不支持                                       | 支持根据Message Id、Message Key查询消息                      |      |
| 消息回溯         | 理论上可以按照Offset来回溯消息               | 支持按照时间来回溯消息，精度毫秒，例如从一天之前的某时某分某秒开始重新消费消息 |      |
| 适用场景         | 日志处理                                     | 业务处理                                                     |      |
| 性能             | 单机百万条/秒                                | 单机10万条/秒                                                |      |
| 消费并行度       | 最大等于分区数                               | 顺序消费方式并行度同Kafka完全一致<br/>乱序方式并行度取决于Consumer的线程数，如Topic配置10个队列，10台机器消费，每台机器100个线程，那么并行度为1000。 |      |
| 开发语言友好性   | scala                                        | java                                                         |      |
| Broker端消息过滤 | 不支持                                       | 根据Message Tag来过滤，相当于子topic概念<br/>向服务器上传一段Java代码，可以对消息做任意形式的过滤，甚至可以做Message Body的过滤拆分。 |      |
| 消息堆积能力     | 更强                                         | 单机支持亿级消息堆积                                         |      |
| 开源社区活跃度   | 低                                           | 高                                                           |      |
| 成熟度           | 高                                           | 高                                                           |      |
| 商业支持         | 无                                           | 阿里云                                                       |      |

